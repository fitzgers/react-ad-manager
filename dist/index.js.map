{"version":3,"file":"index.js","sources":["../src/refresh.ts","../src/variables.ts","../src/components/Ad.tsx","../src/components/AdConfig.tsx","../src/components/AdScript.tsx"],"sourcesContent":["const adsToRefresh: Array<any> = []\n\nconst adFactory = (adSlot: any, googletag: any, refreshTimer: number) => {\n\tconst internalRefreshTimer = refreshTimer\n\tconst internalGoogletag = googletag\n\tlet instance: any = null\n\tlet viewPercentage = 0\n\tlet isLoopRun = false\n\tlet isRefreshable = false\n\tlet isImpressionViewable = false\n\n\tconst setViewPercentage = (vp: number) => {\n\t\tviewPercentage = vp\n\t}\n\tconst impressionViewable = () => {\n\t\tisImpressionViewable = true\n\t}\n\tconst loop: any = () => {\n\t\tif(isImpressionViewable && viewPercentage > 50) {\n\t\t\tisLoopRun = true\n\t\t\tif(isRefreshable) {\n\t\t\t\tinternalGoogletag.pubads().refresh([adSlot])\n\t\t\t\tisRefreshable = false\n\t\t\t\tisImpressionViewable = false\n\t\t\t}\n\t\t\tsetTimeout(() => {\n\t\t\t\tif(isImpressionViewable && viewPercentage > 50) {\n\t\t\t\t\tinternalGoogletag.pubads().refresh([adSlot])\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tisRefreshable = true\n\t\t\t\t}\n\t\t\t\tisLoopRun = false\n\t\t\t}, internalRefreshTimer)\n\t\t}\n\t}\n\n\n\treturn {\n\t\trunLoop: () => {\n\t\t\tif (instance === null || !isLoopRun) instance = new loop\n\t\t\treturn instance\n\t\t},\n\t\tsetViewPercentage,\n\t\timpressionViewable,\n\t\tadSlot,\n\t}\n}\n\nexport const pushAdSlotToRefresh = (adSlot: any, refreshTimer: number, googletag: any) => {\n\tconst adSlotToInsert = adFactory(adSlot, refreshTimer, googletag)\n\tadsToRefresh.push(adSlotToInsert)\n}\n\nexport const refreshViewPercentage = (event: any) => {\n\tconst { slot, inViewPercentage } = event\n\tconst adIndex = adsToRefresh.findIndex(el => el.adSlot.getSlotElementId() === slot.getSlotElementId())\n\tif(adIndex === -1) return\n\tadsToRefresh[adIndex].setViewPercentage(inViewPercentage)\n\tadsToRefresh[adIndex].runLoop()\n}\n\nexport const impressionViewable = (event: any) => {\n\tconst { slot } = event\n\tconst adIndex = adsToRefresh.findIndex(el => el.adSlot.getSlotElementId() === slot.getSlotElementId())\n\tif(adIndex === -1) return\n\tadsToRefresh[adIndex].impressionViewable()\n\tadsToRefresh[adIndex].runLoop()\n} \n","let internalNetworkCode: string | number = \"\"\nexport const networkCode = {\n\tget: () => internalNetworkCode,\n\tset: (nc: string | number) => internalNetworkCode = nc\n}\n\nlet internalRefreshTimer: number | string | null = null\nexport const refreshTimer = {\n\tget: () => internalRefreshTimer,\n\tset: (rt: number | string) => internalRefreshTimer = rt\n}","import React, { useEffect } from 'react'\nimport {\n  impressionViewable,\n  pushAdSlotToRefresh,\n  refreshViewPercentage,\n} from '../refresh'\nimport { AdType, ResponsiveSizeType } from '../types'\nimport * as variables from '../variables'\n\n// eslint-disable-next-line react/prop-types\nconst Ad: React.FC<AdType> = ({\n  adUnit,\n  name,\n  target = [],\n  type,\n  size,\n  refreshTimer = 0,\n  eventImpressionViewable,\n  eventSlotOnload,\n  eventSlotRenderEnded,\n  eventSlotRequested,\n  eventSlotResponseReceived,\n  eventSlotVisibilityChanged,\n}) => {\n  let googletag: any\n  let adSlot: any = null\n\n  const displayCommonAd = () => {\n    googletag.cmd.push(() => {\n      adSlot = googletag\n        .defineSlot(\n          `${variables.networkCode.get()}${adUnit}`,\n          generateSize(),\n          name\n        )\n        .addService(googletag.pubads())\n      mappingSize()\n      setEvents(adSlot)\n      setTargeting()\n      googletag.enableServices()\n      googletag.display(name)\n    })\n  }\n\n  const displayEspecialAd = () => {\n    googletag.cmd.push(() => {\n      adSlot = googletag.defineOutOfPageSlot(\n        `${variables.networkCode.get()}${adUnit}`,\n        googletag.enums.OutOfPageFormat[type]\n      )\n      if (adSlot) {\n        setTargeting()\n        setEvents(adSlot)\n        mappingSize()\n        adSlot.addService(googletag.pubads())\n        googletag.pubads().enableSingleRequest()\n        googletag.enableServices()\n      }\n    })\n  }\n\n  const setEvents = (targetSlot: any) => {\n    googletag.pubads().addEventListener('slotOnload', (event: any) => {\n      if (event.slot === targetSlot) {\n        if (eventSlotOnload) eventSlotOnload(event)\n        if (refreshTimer)\n          pushAdSlotToRefresh(event.slot, googletag, Number(refreshTimer))\n      }\n    })\n\n    googletag\n      .pubads()\n      .addEventListener('slotVisibilityChanged', (event: any) => {\n        if (event.slot === targetSlot) {\n          if (eventSlotVisibilityChanged) eventSlotVisibilityChanged(event)\n          if (refreshTimer) refreshViewPercentage(event)\n        }\n      })\n\n    googletag.pubads().addEventListener('impressionViewable', (event: any) => {\n      if (event.slot === targetSlot) {\n        if (eventImpressionViewable) eventImpressionViewable(event)\n        if (refreshTimer) impressionViewable(event)\n      }\n    })\n\n    if (eventSlotRenderEnded)\n      googletag.pubads().addEventListener('slotRenderEnded', (event: any) => {\n        if (event.slot === targetSlot) {\n          if (eventSlotRenderEnded) eventSlotRenderEnded(event)\n          if (refreshTimer) impressionViewable(event)\n        }\n      })\n\n    if (eventSlotRequested)\n      googletag\n        .pubads()\n        .addEventListener('eventSlotRequested', (event: any) => {\n          if (event.slot === targetSlot) {\n            if (eventSlotRequested) eventSlotRequested(event)\n            if (refreshTimer) impressionViewable(event)\n          }\n        })\n\n    if (eventSlotResponseReceived)\n      googletag\n        .pubads()\n        .addEventListener('eventSlotResponseReceived', (event: any) => {\n          if (event.slot === targetSlot) {\n            if (eventSlotResponseReceived) eventSlotResponseReceived(event)\n            if (refreshTimer) impressionViewable(event)\n          }\n        })\n  }\n\n  const setTargeting = () => {\n    target.forEach((el: any) => adSlot.setTargeting(el[0], el[1]))\n  }\n\n  const generateSize = () => {\n    const internalSize = size as ResponsiveSizeType\n    if (\n      !(\n        typeof internalSize === 'object' &&\n        typeof internalSize[0][1] === 'object'\n      )\n    )\n      return size\n\n    return internalSize.map((el) => [el[0], el[1]])\n  }\n\n  const mappingSize = () => {\n    const internalSize = size as ResponsiveSizeType\n    if (\n      !(\n        typeof internalSize === 'object' &&\n        typeof internalSize[0][1] === 'object'\n      )\n    )\n      return\n    let mapping = googletag.sizeMapping()\n    internalSize.forEach((el) => (mapping = mapping.addSize(el[0], el[1])))\n    mapping = mapping.build()\n    adSlot.defineSizeMapping(mapping)\n  }\n\n  useEffect(() => {\n    window.googletag = window.googletag || { cmd: [] }\n    googletag = window.googletag\n    googletag.cmd.push(() => {\n      // eslint-disable-next-line react/prop-types\n      type ? displayEspecialAd() : displayCommonAd()\n    })\n  }, [])\n\n  useEffect(() => {\n    return () => {\n      if (adSlot) {\n        googletag.destroySlots([adSlot])\n      }\n    }\n  }, [])\n\n  if (type) return null\n\n  return <div id={name}></div>\n}\n\nexport { Ad }\n","import React, { useEffect } from 'react'\nimport { AdConfigType } from '../types'\nimport * as variables from '../variables'\nexport const AdConfig: React.FC<AdConfigType> = ({\n  networkCode,\n  target = [],\n  enableLazyLoad,\n  enableSingleRequest,\n  collapseEmptyDivs,\n  eventImpressionViewable,\n  eventSlotOnload,\n  eventSlotRenderEnded,\n  eventSlotRequested,\n  eventSlotResponseReceived,\n  eventSlotVisibilityChanged,\n}) => {\n  let googletag: any\n\n  const setConfigs = () => {\n    if (networkCode) variables.networkCode.set(networkCode)\n    if (enableLazyLoad) googletag.pubads().enableLazyLoad(enableLazyLoad)\n    if (collapseEmptyDivs) googletag.pubads().collapseEmptyDivs(true)\n    if (enableSingleRequest) googletag.pubads().enableSingleRequest()\n  }\n\n  const setTargeting = () => {\n    target.forEach((el) => googletag.pubads().setTargeting(el[0], el[1]))\n  }\n\n  const setEvents = () => {\n    googletag.pubads().addEventListener('slotOnload', (event: any) => {\n      if (eventSlotOnload) eventSlotOnload(event)\n    })\n\n    googletag\n      .pubads()\n      .addEventListener('slotVisibilityChanged', (event: any) => {\n        if (eventSlotVisibilityChanged) eventSlotVisibilityChanged(event)\n      })\n\n    googletag.pubads().addEventListener('impressionViewable', (event: any) => {\n      if (eventImpressionViewable) eventImpressionViewable(event)\n    })\n\n    if (eventSlotRenderEnded)\n      googletag\n        .pubads()\n        .addEventListener('slotRenderEnded', eventSlotRenderEnded)\n    if (eventSlotRequested)\n      googletag.pubads().addEventListener('slotRequested', eventSlotRequested)\n    if (eventSlotResponseReceived)\n      googletag\n        .pubads()\n        .addEventListener('slotResponseReceived', eventSlotResponseReceived)\n  }\n\n  useEffect(() => {\n    window.googletag = window.googletag || { cmd: [] }\n    googletag = window.googletag\n    googletag.cmd.push(() => {\n      setConfigs()\n      setEvents()\n      setTargeting()\n      googletag.enableServices()\n    })\n  }, [])\n\n  return null\n}\n","import React from 'react'\nexport const AdScript: React.FC = () => {\n  return (\n    <script\n      async\n      src='https://securepubads.g.doubleclick.net/tag/js/gpt.js'\n    ></script>\n  )\n}\n"],"names":["variables.networkCode","useEffect","networkCode"],"mappings":"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"}